(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[37],{1095:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(8),s=a(4),c=a(12),o=a(257),i=a(740),l=a(789),u=a(751),m=a(732),b=a(2),d=a(31),j=a(7),g=a(11),p=a(0),f=Object(c.a)(o.a)((function(){return{display:"flex",alignItems:"center"}})),h=Object(c.a)(f)((function(){return{justifyContent:"center"}})),x=Object(c.a)(o.a)((function(e){return{padding:32,background:e.theme.palette.background.default}})),O=Object(c.a)(h)((function(){return{background:"#1A2038",minHeight:"100vh !important","& .card":{maxWidth:500,margin:"1rem",borderRadius:12}}}));t.default=function(){var e=Object(d.f)(),t=Object(b.useState)(localStorage.getItem("email")),a=Object(s.a)(t,2),c=a[0],o=a[1],f=Object(b.useState)(""),v=Object(s.a)(f,2),w=v[0],k=v[1],S=function(){var t=Object(n.a)(Object(r.a)().mark((function t(){var a,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==w){t.next=2;break}return t.abrupt("return",g.toast.error("Password should not be empty!"));case 2:return t.prev=2,t.next=5,j.a.post("users/change-password",{email:localStorage.getItem("email"),password:w});case 5:if(a=t.sent,n=a.data,console.log(localStorage.getItem("email")),!1!==n.success){t.next=10;break}return t.abrupt("return",g.toast.error(n.msg));case 10:n.success&&(localStorage.removeItem("email"),g.toast.success(n.msg),e("/session/signin")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0),g.toast.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){localStorage.getItem("email")&&o(localStorage.getItem(c))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g.Toaster,{}),Object(p.jsx)(O,{children:Object(p.jsx)(i.a,{className:"card",children:Object(p.jsx)(l.a,{container:!0,children:Object(p.jsxs)(l.a,{item:!0,xs:12,children:[Object(p.jsx)(h,{p:4,children:Object(p.jsx)("img",{width:"300",src:"/assets/images/logos/redefine-logo.jpg",alt:""})}),Object(p.jsx)(x,{children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S()},children:[Object(p.jsx)(u.a,{type:"email",name:"email",size:"small",label:"Email",value:localStorage.getItem("email"),variant:"outlined",sx:{mb:3,width:"100%"}}),Object(p.jsx)(u.a,{type:"password",name:"password",size:"small",label:"New Password",value:w,variant:"outlined",onChange:function(e){return k(e.target.value)},sx:{mb:3,width:"100%"}}),Object(p.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Reset Password"}),Object(p.jsx)(m.a,{fullWidth:!0,color:"primary",variant:"outlined",onClick:function(){return e(-1)},sx:{mt:2},children:"Go Back"})]})})]})})})})]})}}}]);