(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[11],{1108:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n(12),a=n(44),s=n(789),i=n(740),c=n(2),l=n(17),u=n(10),p=n(3),d=n(8),f=n(4),h=n(105),m=n(831),j=n(7),b=n(0),x=function(e){var t=e.height,n=e.color,r=void 0===n?[]:n,o=Object(h.a)(),a=Object(c.useState)([]),s=Object(f.a)(a,2),i=s[0],x=s[1];Object(c.useEffect)((function(){v()}),[]);var v=function(){var e=Object(d.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("project/view2");case 2:t=e.sent,n=t.data,console.log("dashboard projects"),console.log(n),x(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=i.filter((function(e){return"1"==e.status})),O=i.filter((function(e){return"5"==e.status})),y=i.filter((function(e){return"2"==e.status})),S=i.filter((function(e){return"4"==e.status})),w=i.filter((function(e){return"7"==e.status})),I=i.filter((function(e){return"6"==e.status})),E=i.filter((function(e){return"3"==e.status})),z={legend:{show:!0,itemGap:20,icon:"circle",bottom:0,textStyle:{color:o.palette.text.secondary,fontSize:13,fontFamily:"roboto"}},tooltip:{show:!1,trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},xAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],yAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Traffic Rate",type:"pie",radius:["45%","72.55%"],center:["50%","50%"],avoidLabelOverlap:!1,hoverOffset:5,stillShowZeroSum:!1,label:{normal:{show:!1,position:"center",textStyle:{color:o.palette.text.secondary,fontSize:13,fontFamily:"roboto"},formatter:"{a}"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"normal"},formatter:"{b} \n{c} ({d}%)"}},labelLine:{normal:{show:!1}},data:[{value:g.length,name:"Yet to Start",itemStyle:{color:"rgb(183,183,183)"}},{value:O.length,name:"Closed",itemStyle:{color:"rgb(0,0,255)"}},{value:y.length,name:"In Progress",itemStyle:{color:"rgb(106,168,79)"}},{value:S.length,name:"Cancelled",itemStyle:{color:"rgb(255,0,0)"}},{value:w.length,name:"Executed",itemStyle:{color:"rgb(241,194,50)"}},{value:I.length,name:"Partly Executed",itemStyle:{color:"rgb(147,196,125)"}},{value:E.length,name:"Postponed",itemStyle:{color:"rgb(255,109,1)"}}]}]};return Object(b.jsx)(m.a,{style:{height:t},option:Object(u.a)(Object(u.a)({},z),{},{color:Object(l.a)(r)})})},v=n(257),g=n(413),O=n(59),y=n(9),S=Object(o.a)(i.a)((function(e){var t=e.theme;return Object(r.a)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",background:t.palette.background.paper},t.breakpoints.down("sm"),{padding:"16px !important"})})),w=Object(o.a)(v.a)((function(e){var t=e.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{color:t.palette.text.secondary},"& .icon":{opacity:.6,fontSize:"44px",color:t.palette.primary.main}}})),I=Object(o.a)("h6")((function(e){return{margin:0,marginTop:"4px",fontSize:"14px",fontWeight:"500",color:e.theme.palette.primary.main}})),E=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),a=Object(f.a)(o,2),i=a[0],l=a[1],u=Object(c.useState)([]),h=Object(f.a)(u,2),m=h[0],x=h[1];Object(c.useEffect)((function(){E(),z(),_()}),[]);var E=function(){var e=Object(d.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("clients/view");case 2:t=e.sent,n=t.data,r(n),console.log(n),console.log("res.data");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("vendors/view");case 2:t=e.sent,n=t.data,l(n),console.log(n),console.log("res.data");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("users/view");case 2:t=e.sent,n=t.data,x(n),console.log(n),console.log("res.data");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("dashboard c&v"),console.log(n),console.log(n.length),console.log(i),console.log(i.length);var N=m.length>0&&(null===m||void 0===m?void 0:m.filter((function(e){return"12"==e.group_id})));console.log(N),console.log(N.length);var C=[{name:"Project Manager",amount:N.length,icon:"group",nav:"users"},{name:"Vendors",amount:i.length,icon:"group",nav:"vendors"},{name:"Clients",amount:n.length,icon:"group",nav:"customers"}];return Object(b.jsx)(s.a,{container:!0,spacing:3,sx:{mb:"24px"},children:C.map((function(e,t){return Object(b.jsx)(s.a,{item:!0,xs:12,md:4,children:Object(b.jsx)(S,{elevation:6,children:Object(b.jsxs)(w,{children:[Object(b.jsx)(g.a,{className:"icon",children:e.icon}),Object(b.jsx)(y.b,{to:"/"+e.nav,children:Object(b.jsxs)(v.a,{ml:"12px",children:[Object(b.jsx)(O.d,{children:e.name}),Object(b.jsx)(I,{children:e.amount})]})})]})})},t)}))})},z=Object(o.a)(i.a)((function(e){var t=e.theme;return Object(r.a)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",background:t.palette.background.paper},t.breakpoints.down("sm"),{padding:"16px !important"})})),_=Object(o.a)(v.a)((function(e){var t=e.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{color:t.palette.text.secondary},"& .icon":{opacity:.6,fontSize:"44px",color:t.palette.primary.main}}})),N=Object(o.a)("h6")((function(e){return{margin:0,marginTop:"4px",fontSize:"14px",fontWeight:"500",color:e.theme.palette.primary.main}})),C=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(d.a)(Object(p.a)().mark((function e(){var t,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("project/view2");case 2:t=e.sent,n=t.data,console.log("dashboard projects"),console.log(n),r(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=n.filter((function(e){return"1"==e.status})),i=n.filter((function(e){return"5"==e.status})),l=n.filter((function(e){return"2"==e.status})),u=n.filter((function(e){return"4"==e.status})),h=n.filter((function(e){return"7"==e.status})),m=n.filter((function(e){return"6"==e.status})),x=n.filter((function(e){return"3"==e.status})),S=[{name:"Yet to Start",amount:a.length,icon:"donut_large",colorcls:"text-warning",nav:"projects",filter:"1"},{name:"Closed",amount:i.length,icon:"close",colorcls:"text-success",nav:"projects",filter:"5"},{name:"In Progress",amount:l.length,icon:"details",colorcls:"text-info",nav:"projects",filter:"2"},{name:"Cancelled",amount:u.length,icon:"close",colorcls:"text-danger",nav:"projects",filter:"4"},{name:"Executed",amount:h.length,icon:"done",colorcls:"text-success",nav:"projects",filter:"7"},{name:"Partly Executed",amount:m.length,icon:"youtube_searched_for",colorcls:"text-primary",nav:"projects",filter:"6"},{name:"Postponed",amount:x.length,icon:"details",colorcls:"text-secondary",nav:"projects",filter:"3"}];return Object(b.jsx)(s.a,{container:!0,spacing:3,sx:{mb:"24px"},children:S.map((function(e,t){return Object(b.jsx)(s.a,{item:!0,xs:12,md:6,children:Object(b.jsx)(z,{elevation:6,children:Object(b.jsxs)(_,{children:[Object(b.jsx)(g.a,{className:"icon",children:e.icon}),Object(b.jsx)(y.b,{to:"/"+e.nav,state:{fill:e.filter},children:Object(b.jsxs)(v.a,{ml:"12px",children:[Object(b.jsx)(O.d,{children:e.name}),Object(b.jsx)(N,{children:e.amount})]})})]})})},t)}))})},k=n(732),P=n(11),M=n(31),A=function(){var e=Object(c.useState)(""),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),a=Object(f.a)(o,2),i=a[0],l=a[1],u=Object(M.f)();return Object(b.jsxs)("div",{className:"bg-white shadow br-4 mt-2 p-4",children:[Object(b.jsx)(P.Toaster,{}),Object(b.jsx)("h4",{children:"View Invoices"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n||i?(localStorage.setItem("invoice_year",n),localStorage.setItem("invoice_month",i),console.log("submitted",i,n),u("/projects/estimates/all")):P.toast.error("Year and Month Required")},onError:function(){return null},children:[Object(b.jsxs)(s.a,{container:!0,spacing:1,children:[Object(b.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(b.jsxs)("select",{required:!0,value:n,onChange:function(e){return r(e.target.value)},className:"form-select","aria-label":"Default select example",children:[Object(b.jsx)("option",{selected:!0,children:"Select Year"}),Object(b.jsx)("option",{value:"2023",children:"2023"}),Object(b.jsx)("option",{value:"2022",children:"2022"}),Object(b.jsx)("option",{value:"2021",children:"2021"}),Object(b.jsx)("option",{value:"2020",children:"2020"}),Object(b.jsx)("option",{value:"2019",children:"2019"}),Object(b.jsx)("option",{value:"2018",children:"2018"}),Object(b.jsx)("option",{value:"2017",children:"2017"})]})}),Object(b.jsx)(s.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:Object(b.jsxs)("select",{required:!0,value:i,onChange:function(e){return l(e.target.value)},className:"form-select","aria-label":"Default select example",children:[Object(b.jsx)("option",{children:"Select month"}),["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"].map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))]})})]}),Object(b.jsx)("div",{className:"container text-end px-0",children:Object(b.jsxs)(k.a,{color:"primary",variant:"contained",type:"submit",className:"mt-3",children:[Object(b.jsx)(g.a,{children:"send"}),Object(b.jsx)(O.e,{sx:{pl:1,textTransform:"capitalize"},className:"float-end",children:"Submit"})]})})]})]})},T=Object(o.a)(i.a)((function(e){var t=e.theme;return Object(r.a)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",background:t.palette.background.paper},t.breakpoints.down("sm"),{padding:"16px !important"})})),L=Object(o.a)(v.a)((function(e){var t=e.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{color:t.palette.text.secondary},"& .icon":{opacity:.6,fontSize:"44px",color:t.palette.primary.main}}})),W=(Object(o.a)("h6")((function(e){return{margin:0,marginTop:"4px",fontSize:"14px",fontWeight:"500",color:e.theme.palette.primary.main}})),function(){return Object(b.jsx)(s.a,{container:!0,spacing:3,sx:{mb:"24px"},children:[{name:"REVENUE",amount:"00",icon:"donut_large",colorcls:"text-warning"},{name:"A-FACTOR",amount:"00",icon:"close",colorcls:"text-success"},{name:"EXPENSE",amount:"00",icon:"details",colorcls:"text-info"}].map((function(e,t){return Object(b.jsx)(s.a,{item:!0,xs:12,md:12,children:Object(b.jsx)(T,{elevation:12,children:Object(b.jsxs)(L,{children:[Object(b.jsx)(g.a,{className:"icon",children:e.icon}),Object(b.jsxs)(v.a,{ml:"12px",children:[Object(b.jsx)("h4",{className:"text-secondary",children:e.name}),Object(b.jsx)("h5",{children:e.amount})]})]})})},t)}))})}),D=Object(o.a)("div")((function(e){var t=e.theme;return Object(r.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})})),R=Object(o.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",margin:"0",textTransform:"capitalize"}}));Object(o.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),t.default=function(){var e=Object(a.a)().palette;if("12"===sessionStorage.getItem("groupId")||"14"===sessionStorage.getItem("groupId"))var t=Object(b.jsx)(s.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(b.jsx)(W,{})}),n="";else"1"===sessionStorage.getItem("groupId")||"11"===sessionStorage.getItem("groupId")||"10"===sessionStorage.getItem("groupId")?(t=Object(b.jsxs)(s.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:[Object(b.jsx)(E,{}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Projects"}),Object(b.jsx)(C,{})]}),n=Object(b.jsx)(A,{})):(t=Object(b.jsx)(s.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(b.jsx)(W,{})}),n="");return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(D,{className:"analytics",children:Object(b.jsxs)(s.a,{container:!0,spacing:3,children:[t,Object(b.jsxs)(s.a,{item:!0,lg:4,md:4,sm:12,xs:12,children:[Object(b.jsxs)(i.a,{sx:{px:3,py:2},children:[Object(b.jsx)(R,{children:"Project Status"}),Object(b.jsx)(x,{height:"300px",color:[e.primary.dark,e.primary.main,e.primary.light]})]}),n]})]})})})}},831:function(e,t,n){"use strict";var r=n(6),o=n(276),a=n(2),s=n.n(a),i=n(870);function c(e,t){var n={};return t.forEach((function(t){n[t]=e[t]})),n}function l(e){return"function"===typeof e}var u=n(418),p=n.n(u),d=function(e){function t(t){var n=e.call(this,t)||this;return n.echarts=o,n}return Object(r.b)(t,e),t}(function(e){function t(t){var n=e.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return Object(r.b)(t,e),t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!l(t)||t(e,this.props)){if(!p()(e.theme,this.props.theme)||!p()(e.opts,this.props.opts)||!p()(e.onEvents,this.props.onEvents))return this.dispose(),void this.renderNewEcharts();var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];p()(c(this.props,n),c(e,n))||this.updateEChartsOption(),p()(e.style,this.props.style)&&p()(e.className,this.props.className)||this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},t.prototype.dispose=function(){if(this.ele){try{Object(i.clear)(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){var e=this,t=this.props,n=t.onEvents,r=t.onChartReady,o=this.updateEChartsOption();this.bindEvents(o,n||{}),l(r)&&r(o),this.ele&&Object(i.bind)(this.ele,(function(){e.resize()}))},t.prototype.bindEvents=function(e,t){function n(t,n){"string"===typeof t&&l(n)&&e.on(t,(function(t){n(t,e)}))}for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n(r,t[r])},t.prototype.updateEChartsOption=function(){var e=this.props,t=e.option,n=e.notMerge,r=void 0!==n&&n,o=e.lazyUpdate,a=void 0!==o&&o,s=e.showLoading,i=e.loadingOption,c=void 0===i?null:i,l=this.getEchartsInstance();return l.setOption(t,r,a),s?l.showLoading(c):l.hideLoading(),l},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(t){console.warn(t)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.className,a=void 0===o?"":o,i=Object(r.a)({height:300},n);return s.a.createElement("div",{ref:function(t){e.ele=t},style:i,className:"echarts-for-react "+a})},t}(a.PureComponent));t.a=d},834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}}},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0;t.SizeSensorId="size-sensor-id";t.SensorClassName="size-sensor-object";t.SensorTabIndex="-1"},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ver=t.clear=t.bind=void 0;var r=n(871);t.bind=function(e,t){var n=(0,r.getSensor)(e);return n.bind(t),function(){n.unbind(t)}};t.clear=function(e){var t=(0,r.getSensor)(e);(0,r.removeSensor)(t)};t.ver="1.0.1"},871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var r,o=(r=n(872))&&r.__esModule?r:{default:r},a=n(873),s=n(835);var i={};t.getSensor=function(e){var t=e.getAttribute(s.SizeSensorId);if(t&&i[t])return i[t];var n=(0,o.default)();e.setAttribute(s.SizeSensorId,n);var r=(0,a.createSensor)(e);return i[n]=r,r};t.removeSensor=function(e){var t=e.element.getAttribute(s.SizeSensorId);e.element.removeAttribute(s.SizeSensorId),e.destroy(),t&&i[t]&&delete i[t]}},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=1;t.default=function(){return"".concat(r++)}},873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=n(874),o=n(875),a="undefined"!==typeof ResizeObserver?o.createSensor:r.createSensor;t.createSensor=a},874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,o=(r=n(834))&&r.__esModule?r:{default:r},a=n(835);t.createSensor=function(e){var t=void 0,n=[],r=(0,o.default)((function(){n.forEach((function(t){t(e)}))})),s=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=void 0,n=[])};return{element:e,bind:function(o){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",r),r()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",a.SensorClassName),t.setAttribute("tabindex",a.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===n.indexOf(o)&&n.push(o)},destroy:s,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&s()}}}},875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,o=(r=n(834))&&r.__esModule?r:{default:r};t.createSensor=function(e){var t=void 0,n=[],r=(0,o.default)((function(){n.forEach((function(t){t(e)}))})),a=function(){t.disconnect(),n=[],t=void 0};return{element:e,bind:function(o){t||(t=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t}()),-1===n.indexOf(o)&&n.push(o)},destroy:a,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&a()}}}}}]);